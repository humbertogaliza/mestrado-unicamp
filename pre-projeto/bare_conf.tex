\documentclass[conference]{IEEEtran/IEEEtran}
\ifCLASSINFOpdf
  \usepackage[pdftex]{graphicx}
  % declare the path(s) where your graphic files are
  \graphicspath{{../pdf/}{../jpeg/}{../eps/}{../png/}}
  \DeclareGraphicsExtensions{.pdf,.jpeg,.png,.eps}
\else
  % or other class option (dvipsone, dvipdf, if not using dvips). graphicx
  % will default to the driver specified in the system graphics.cfg if no
  % driver is specified.
  % \usepackage[dvips]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../eps/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.eps}
\fi
\usepackage{amsmath}
\usepackage{algorithmic}
\usepackage{array}

% *** SUBFIGURE PACKAGES ***
\ifCLASSOPTIONcompsoc
  \usepackage[caption=false,font=normalsize,labelfont=sf,textfont=sf]{subfig}
\else
  \usepackage[caption=false,font=footnotesize]{subfig}
\fi

%\usepackage{fixltx2e}
\usepackage{dblfloatfix}

% *** PDF, URL AND HYPERLINK PACKAGES ***
%
\usepackage{url}

\hyphenation{op-tical net-works semi-conduc-tor}


\begin{document}
\title{A survey on problems in generalized Internet eXchange Points architectures}

\author{\IEEEauthorblockN{Humberto Silva Galiza de Freitas}
\IEEEauthorblockA{Academic Network at Sao Paulo (ANSP)\\
Americas Lightpaths Express and Protect (AmLight-ExP)\\
Sao Paulo, Brazil \\
Email: galiza@amlight.net}}

% make the title area
\maketitle

% As a general rule, do not put math, special symbols or citations
% in the abstract
\begin{abstract}
Internet eXchange Points are the heart of today's Internet. However, a number of issues inherited from this architectural model have been identified and fixed, but others simply can not be remediated, due to the architecture conception. Regardless the IXP is commercial or for academic traffic exchange, these issues can compromise all or part of its operation, bringing risks, due to the insecurity and instability created in the traffic routing environment. Recent developments in Software-Defined Networks (SDN), which promises network management simplification as well as the addition of more capabilities and flexibility, have brought an interesting use case for IXPs called Software-Defined Internet Exchange (SDX). Nonetheless, while the current model presents limitations due to it is own nature, the SDX novel introduces many problems, which needs to be addressed to guarantee IXP's correctness, scalability, resiliency, management and evolution. This work presents a comprehensive study about the challenges affecting the current Internet eXchange Point (IXP) model in use, identifying and evaluating the impact of its principal weakness in the scope of security, scalability, resiliency and operations. 
\end{abstract}

% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle


\section{Introduction}
\label{introduction}
Though the critical importance the Internet eXchange Points (IXP) represent to the Internet nowadays, the architecture in place and \textit{modus operandi} poses several challenges to its evolution. A number of issues inherited from this architectural model have been discussed and fixed in the past few years, but others simply can not be remediated due to architectural limitations. 

Regardless the IXP is commercial or for academic traffic exchange, these issues can compromise all or part of its operation, damaging its image and mission, due to the insecurity and instability created in the traffic routing environment. This situation might generate mistrust to the current members, as well as distancing possible new associates.

Software-Defined Networking is a new networking approach that promises, among other things, turn the networks more smart by decoupling the control plane from the data plane, as well as adding programmability support to the network. OpenFlow is the most famous protocol in this novel, and was created as a joint effort of many different networking organizations, to provide all the SDN abstractions.

Recent developments in Software-Defined Networks (SDN), which promises network management simplification as well as the addition of more capabilities and flexibility, have brought an interesting use case for IXPs called Software-Defined Internet Exchange (SDX). ~\cite{gupta2015sdx}~\cite{gupta2016industrial}. 

However, while the current model presents limitations due to it is own nature, still the SDX novel introduces many problems, which needs to be addressed to guarantee IXP's correctness, scalability, resiliency, management and evolution.

In this work we present a comprehensive analysis of the building blocks of a traditional traffic exchange infrastructure and their associated problems and limitations, using a functionality approach. The option for a functionality approach is ground on the fact that it is imperative to understand and catalog these issues affecting the resiliency of the current model as a previous step to move forward to a new architectural model such as an SDX. 

This paper is organized as follows: Section ~\ref{ixp_intro} presents the current IXP architecture and terminology, and following, Section~\ref{current_ixp} dissects their limitations and issues.

\section{Current IXP architecture and terminology}
\label{ixp_intro}

In the literature, the Internet Exchange Points are considered the natural successors of the old Network Access Points (NAP), place where the Autonomous Systems used to meet to exchange traffic and keep themselves reachable, what have turned to the current Internet. In the past few years a lot of work have been devoted to have a good comprehension of such complex ecossystem~\cite{haddadi2013}.

The IXP importance within the Internet ecosystem is clearly presented in the work of~\cite{chatzis2013importance}. The authors sustain that although the academia does not like to see too many 'hot' topics involving IXP, there is a strong relationship between issues affecting network cloud services and data center services, mobility and even the trending SDN paradigm, with all the systematic operated by IXPs.

From a technical perspective, an IXP is basically an Ethernet based traffic matrix, as known as a single broadcast domain with the aim to facilitate the traffic exchange between Autonomous Systems (or simply participants)~\cite{euroix2012}.

% In Brazil, the roll out of PTTMetro project in 200x have contributed to develop Brazil's Internet as well as to improve it's quality. On the other hand, many problems affect the current model, not only in Brazil but over the world, since most IXPs use pretty much the same Ethernet based model today.

%These are trend topics today and have a good relevance to the academia. Understanding how SDN/OpenFlow could bring benefits to a real world use case will bring new challenges, but the most important achievement of this research will be delivering a true scalable model, with support to more refined Traffic Engineering capabilities and improved security.

%\subsection{IXP architecture and terminology}
%No Brasil, o primeiro PTT foi criado em 1992(?), através de iniciativa da Rede Nacional de Ensino e Pesquisa (RNP) (?), e teve como objetivo interconectar a infraestrutura de Internet no Brasil. Em meados de 2003 o Núcleo e Coordenação do Ponto BR (NIC.BR) em parceria com a RNP, lançou o projeto PTTMetro\footnote{Mais recentemente o projeto teve seu nome alterado para IX.BR - http://www.ix.br}~\cite{pttmetro}, com o objetivo de melhorar a interconexão regional no Brasil. O projeto atualmente tem PTTs implantados em XX cidades, conectando um total de YYY ASs participantes, tendo um tráfego agregado de ZZZZGbps.

%Ainda como evidência da sua importância, o recente trabalho de ~\cite{brito2015anatomia} trouxe uma contribuição inovadora para o assunto, oferecendo a primeira análise detalhada desse microcosmo dentro da Internet brasileira. Os autores caracterizaram um conjunto de informações relevantes compreendendo desde os tipos de membros conectados aos PTTs, até os respectivos grafos de conectividade em nível Sistema Autônomo.

\subsection{Next Generation IXPs: Software-Defined Internet Exchange (SDX)}
Introduzir SDN e SDX

To the best of this author knows, there are no consesus on Software-Defined Exchange Points definition in the literature, but on~\cite{chungatlanticwave} works a SDX classification is presented based in three main approachs:
\begin{enumerate}
\item SDX de camada 3
\item SDX de camada 2
\item SDX para interconexão entre ilhas SDN
\end{enumerate}

Os requisitos fundamentais dentro da abordagem SDX de camada 3 são a necessidade do utilização do protolo BGP~\cite{rfc4271} para o envio e recebimento dos prefixos IP dos participantes, tal como é feito no modelo atual de PTT, além da inclusão de um controlador SDN ao \textit{switching fabric} com a responsabilidade de instalar os fluxos entre os participantes. Nesse escopo, destaca-se a contribuição feita por~\cite{stringer2013cardigan}, na qual são demonstrados os desafios de construção e implantação de um simples roteador distribuído baseado no protocolo OpenFlow.


\section{Current IXP architectures: Problems and Limitations}
\label{current_ixp}
In this section, we categorize and describe the problems and limitations affecting the current IXP architectures based purely on packet forwarding. These issues were fit into three different functional perspectives: Control, Data, and Management planes. 

This approach is suitable because each perspective represent, in the end, one aspect of the IXP: the peering fabric, the connectors or participants, and finally, the IXP operator. Thus, this approach can provide a clear view about the architectural limitations, and point future directions in terms of platform evolution. 

\subsection{Control Plane issues and limitations}
\label{subsec:issues_cp}

\subsubsection{Broadcast Storming in the Switching Fabric}
\label{subsubsec:broadcast_storm}
As described in Section~\ref{ixp_intro}, most of the IXPs in operation nowadays utilize a model where the switching fabric is essentially an enormous flat Ethernet domain. Also, a number of big IXPs have migrated their fabrics from VLANs to the Multi-Protocol Label Switching (MPLS) and its Virtual Private Lan Service (VPLS)~\cite{rfc4761}~\cite{rfc4762}, mainly due to the protocol's high scalability and resiliency, when compared to the restrictions imposed in the utilization of VLANs. Nonetheless, regardless the Layer-2 technology chosen, all IXPs members set up BGP sessions to exchange routes on top of this fabric.

The common sense when designing data-center networks is to split large broadcast domains into multiple network segments. However, such solution is not applicable to an IXP fabric, because offering a single shared environment to the members is one of the IXP fundamental premises. 

Flat Layer-2 networks have long been known to have scaling problems. As the size of a broadcast domain increases, the level of broadcast traffic from protocols like Address Resolution Protocol (ARP) in the fabric increases. Significant amounts of broadcast traffic pose a particular burden on the network because every device in such domain must process and possibly act on such traffic. In extreme cases, these storms can occur where the quantity of broadcast traffic reaches a level that actually brings down part or all of a network~\cite{rfc6820}. 

Although this interaction does not represent a huge amount of bandwidth, the efficiency of the network can be improved by reducing the allocated power for broadcast traffic~\cite{ams2013victor}. Sources of broadcast storms in the switching fabric include, but does not limit to: (1) poor implementations of loop detection and prevention protocols; (2) IXP members misconfiguration or equipment errors; (3) large number of IXP participants. 

Some IXP operators around the world have developed processes to validate the presence of not authorized traffic in the switching fabric, including .... (To Do - Survey com IXP operators?)
To address (1)...
To address (2)...
To address (3)...

Besides that, the IXP operator should be able to distinguish ARP between legitimate ARP requests and genuine broadcast storms, because both a restrict ARP blocking policy or excessive high ARP timeouts may result in the fabric aging out the MAC address of the receiving party from its MAC and CAM tables.

\subsubsection{Prohibited and Unknown Ethernet Frames in the Switching Fabric}
Usually under normal operations the only Layer-2 traffic allowed in most current IXPs are: (1) ARP (ethertype: 0x0806), (2) IPv4 (ethertype: 0x0800) and (3) IPv6 (ethertype: 0x86dd). Despite this, it is not unusual to see in the switching fabric frames from protocols varying since Bridge Protocol Data Units (BPDU) and its variants, topology discovery protocols such as IEEE Std 802.1AB - Link Layer Discovery Protocol (LLDP) and the proprietary Cisco Discovery Protocol (CDP). 

The occurrence of such ethertypes in the Exchange platform as well as frames generated by upper layers protocols such as DHCP and IPv6 Neighbour Discovery / Router Advertisements, is strictly linked with device member misconfiguration. As long as the number of IXP members and the IXP Points of Presence (PoP) grows, more hard is to track down and address these problems. 

Each of these already mentioned ethertypes could potentially impact the normal IXP operation leading to a total or partial interruption of the service. Even though there are simple mechanisms to easily address each of these issues, the process require some networking monitoring tools as well as network operator attention to network logs and flows. Based on that information gathered, the operator can trigger an action to address the issue. 

\subsubsection{Building and Maintaining a Loop-Free Topology}
Designing and maintaining a loop free topology to an IXP is not something tough nowadays, considering the vast variety of resiliency protocols options in the market. Nevertheless, problems to this approach could arise in a very simple manner. As as a member can extend the IXP shared medium to his backbone, he can cause (intentionally or not) a switching loop by creating more than one Layer-2 path between the IXP edge switch and an internal network switch, or by having two ports on the same switch connected to each other. The loop creates a broadcast storm and its effects already were described in section~\ref{subsubsec:broadcast_storm}.

In response to this issue, IXP network operators have been using mainly two features: (1) storm broadcast control, to limit packet per seconds (pps) volume incoming from customer edge port; (2) setting a MAC learning limit to 1 in the member assigned interface. Although both solutions are straightforward and easy to be deployed, network operators have to manually configure the settings, and the process requires also some networking monitoring tools and network operator needs to be heads up to strange network behavior.

\subsubsection{Attacks Targeted to Control Plane}
In early IXP deployments, each member had to set up a BGP session with each other, leading to full mesh routing connectivity scheme. Route Servers emerged as a response to this scalability challenge, because it reduces all overhead turning the IXP management task easier~\cite{lu2005networking}.

As Route Servers plays an important role in any current IXP today, attacks directed to them can cause serious operational problems to the infrastructure. Well-known attacks targeted to Route Servers include, but is not limited to, all Layer-2 shared medium as well as Layer-3 attacks (e.g. mac flooding, arp spoofing, IP spoofing, and so forth), targeted (D)DDoS to the Route Server IP, and man-in-the-middle attacks.

Some counter-measures already exists in todays implementations to address specifically each of these points. Nevertheless, securing and maintaing the Route Server operation is one more task that requires both the network operator attention, as well as his careful in configuring network devices that connects to the Route Server.

\subsubsection{Traffic Engineering Support}
Due to the nature of IXP model currently in use, support for Traffic Engineering both in inbound and outbound directions are performed through BGP attributes manipulation. Nevertheless, these techniques are restricted to a common place: the destination prefix. This jeopardize applying a most granular policy, for instance, source based routing, as well as doesn't provide an elegant solution to resiliency. For example, if an AS wants to have more that one port connected to distinct Points of Prosence (PoPs) of such an IXP, BGP doesn't provide TE capabilities to have a good traffic load balacing.

Outbound loadbalancing is achieved pretty straight forward: based on the destination prefix the IXP participant can install multiple routes using different paths. However, most of a ISP traffic, for example is inbound, since they have the eyeballs for the content. Based on that, inbound Traffic Engineering for Multihomed ASes is achievied today basically using AS Path Prepending or prefix deagregation. Both mecanisms are easy to achieve but generate many lateral problems, such as BGP table polution and undesired effects.

In terms of scalability, current IXP limit the tenants to grow because the fabric doesn't have a mechanism to support multiple speed ports expansion. For instance, if an IXP participant wants to have a 10G port in an edge PoP of the IXP and a 100G in another edge PoP, they don't have a proper mechanism using only BGP or even MPLS-TE to achieve a good TE for the incoming traffic towards their backbone.

Even in the case that the participant wants to just bring another similar port (e.g the participant has a 10Gbps port and wants another 10Gbps port), the IXP usually offer them using LACP as a mechanism to improve their troughput to the fabric. However, in the case that the participant is not locally connected (e.g it's a remote peering case), and it's using a leasing line or MPLS circuit to reach the IXP, LACP will not work, since protocols particularities with timers and so forth. So, it's not a feasible option.

%limite de LACPs no PTT-SP - verificar
% tradução de vlan - replica de mac's da vlan do atm para as vlans traduzidas - verificar caso no PTT-SP - qual tag de vlan usar?
% suporte a eng de trafego quando o participante usa RPF - caso GVT

\subsubsection{Networking Programmability Support}
Current IXP have a very limited support or even does not support networking programmability. This feature could bring interesting benefits to the tenants since could allow them to have more Traffic Engineering capabilities, with more options than just the destination prefix as it is today. 

\subsection{Issues Affecting IXP Data Plane}
\subsubsection{MAC and IP Spoofing}
To Do

\subsubsection{Hot-potato routing}
Current IXP model doesn't have a solution when one participant points out a route towards another partipant to reach a 3rd party network. This is a Hot-potato routing situation with no authorization. Despite this kind of conduct is denied by IXP operators, is hard to monitor the occurrence of such situation, and the participation have to take their own counter measures to avoid being mailiciously used by another ASN in the fabric.

\subsubsection{Routing Leaks}
\label{subsub:routingleak}
Current IXP model doesnt have an efficient mechanism to prevent non-intentional routing leaking. There are network operators reports around the world that shows these routing leakings within a switching fabric caused a lot of problems, not only to the IXP environment, but towards the entire Internet. What's been done until today is just set a maximum prefix-limit per participant and in case the participant reach a set number of prefixes advertised the BGP session will be placed in a shutdown state.

Although this action could prevent the spread of route leak, it's not focused on the main problem: a participant should advertise only what they are allowed to. Such validation mechanism doesn't exist in the current IXP model, despite there're reports of some IXP's have been running RPKI to validate the origin of the advertised prefix.

\subsubsection{Prefix Hijacking}
Besides the routing leaking section mentioned in subsection~\ref{subsub:routingleak}, another routing problem is a huge concern in todays IXP: prefix hijacking. This is more difficult to be identified as long as there are no controls about what each participant shall advertise in the BGP sessions with the Route-Servers. As a response to this challenge, all participants as well as the Route-Server operator should be able to verify all prefixes being adverstised and accept only the ones that pass in the validation process. Nevertheless, such mechanism doesn't exist today as a standard, and potential problems could happen in a very easy way.

\subsubsection{BGP NEXT\_HOP Hijacking}
Another concern in terms of hijacking is when a participant advertise a prefix with a wrong NEXT\_HOP information. As there is no verification to the NEXT\_HOP information in the Route Server nor at the BGP implemenation in each participant, this attack is very easy to be deployed in an IXP fabric. To the best of this author knows, there's no singular solution to this problem today.

\subsubsection{Source Member Attacks and Targeted Member Attacks}
As already said in other problems in this section, current IXP model doesn't validate what's is being advertised to the Route Servers of the Exchange. Another situation that raise from this caracheristic is that (Distributed) Denial of Services attack can could easily be generated by participants in the fabric. 

The simplest and straight solution to this is to apply antispoofing filters and validate using an external mechanism such as RPKI to validate what's being advertised. Although applying filters is a easy task, manually maintaning the filters is a hard task to accomplish. Monitoring the current flows across the fabric is also a good starting point to identify such attacks, however is a very time consuming task to the network operators.

The same limitations occur when the (D)DoS is originated outside of the fabric, and the target is a specfic member of the IXP. This could destabilize all the switching fabric, as well as spread over the Internet due the degree of connectivity the IXP represents today.

\subsection{Issues Affecting IXP Management Plane}
There are serveral operational issues affecting IXPs today. In Brazil, despite the success of the deployed model, network operators have been claiming to the SLA offered by the IXP operator (NIC.BR). Most of time is spent with manual tasks, such as new participant validation process, filling forms and the interaction process itself over support tickets.

In this sense, there are tools today to automate such tasks, but the limitation is that most of them don't have the proper mechanisms to interact with all switching fabric devices using an uniform language or abstraction model.

%monitoramento de estatística quando vc tem porta compartilhada - CIX
% automação do gerenciamento + programabilidade + pós-processo de quarentena: sem acompanhamento --> validador pós-problema

\section{Conclusion}
The conclusion goes here.




% conference papers do not normally have an appendix


% use section* for acknowledgment
\section*{Acknowledgment}


The authors would like to thank...





% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

% references section

% can use a bibliography generated by BibTeX as a .bbl file
% BibTeX documentation can be easily obtained at:
% http://mirror.ctan.org/biblio/bibtex/contrib/doc/
% The IEEEtran BibTeX style support page is at:
% http://www.michaelshell.org/tex/ieeetran/bibtex/
\bibliographystyle{IEEEtran}
% argument is your BibTeX string definitions and bibliography database(s)
%\bibliography{IEEEabrv,../bib/paper}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)
\bibliography{pre-projeto,rfc}

%\begin{thebibliography}{1}

%\bibitem{IEEEhowto:kopka}
%H.~Kopka and P.~W. Daly, \emph{A Guide to \LaTeX}, 3rd~ed.\hskip 1em plus
%  0.5em minus 0.4em\relax Harlow, England: Addison-Wesley, 1999.

%\end{thebibliography}


% that's all folks
\end{document}


